$(function(){$("#Cart i").mousemove(function(){$(".shoppingCart").css("display","inline-block")}),$("html").mousemove(function(t){"shoppingCart"!=$(t.target).attr("class")&&"iconfont icon-gouwuche gwc"!=$(t.target).attr("class")&&"Cart"!=$(t.target).closest().attr("id")&&$(".shoppingCart").css("display","none")});for(var a=document.querySelectorAll(".but"),s=document.querySelectorAll(".commName"),i=[],o=[],t="",n=1,e=!1,l=0;l<a.length;l++)a[l].index=l,a[l].onclick=function(){var t=s[this.index].innerText,n=a[this.index].innerText.match(/\d+(.\d+)?/g);i.push(t),o.push(n);var e=JSON.stringify({name:i,money:o});localStorage.setItem("goods",e),alert("成功加入购物车")};if(localStorage.getItem("goods")){for(var r=JSON.parse(localStorage.getItem("goods")),c=0;c<r.name.length;c++)t+='<ul><li><span class="span01">'+r.name[c]+'</span><span class="span02">'+r.money[c]+'</span><div class="amount"><span class="reduce">-</span><input type="text" class="nr" value="1" /><span class="add">+</span></div><span class="span03">'+r.money[c]+"</span></li></ul>";$(".onlineShopping").append(t)}$(".amount").on("click",".add",function(){n=$(this).prev().attr("value"),n++,$(this).prev().attr("value",n),$(this).parent().next().html((n*$(this).parent().prev().html()).toFixed(2))}),$(".amount").on("click",".reduce",function(){n=$(this).next().attr("value"),n--,$(this).next().attr("value",n),n<=0&&(n=0,$(this).next().attr("value",n)),$(this).parent().next().html((n*$(this).parent().prev().html()).toFixed(2))}),$(".gwc").click(function(){e?$(".onlineShopping").animate({right:"-30%"},1e3,"swing"):$(".onlineShopping").animate({right:"0"},1e3,"swing"),e=!e})});